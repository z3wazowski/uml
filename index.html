<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Safe Manager UMLãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ </title>
    <!-- Prevent favicon 404 error -->
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“Š</text></svg>"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <style>
      /* CSS Variables for modern design system */
      :root {
        --bg-primary: #111418;
        --bg-secondary: #1d2129;
        --bg-card: #262b34;
        --accent-primary: #3dd5f3;
        --accent-warning: #ffc970;
        --accent-success: #4ade80;
        --accent-danger: #f87171;
        --text-primary: #e4e6eb;
        --text-secondary: #8a8f98;
        --border-subtle: rgba(228, 230, 235, 0.1);
        --radius: 8px;
        --radius-lg: 12px;
        --gap: 1.5rem;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
          "Microsoft JhengHei", sans-serif;
        background: var(--bg-primary);
        color: var(--text-primary);
        min-height: 100vh;
        line-height: 1.6;
        /* Subtle noise texture for depth */
        background-image: radial-gradient(
            circle at 20% 50%,
            rgba(61, 213, 243, 0.03) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(61, 213, 243, 0.02) 0%,
            transparent 50%
          );
      }

      .container {
        max-width: 1600px;
        margin: 0 auto;
        padding: 2rem;
      }

      /* Bento Grid Layout - Asymmetric for visual interest */
      .bento-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: var(--gap);
        margin-top: 2rem;
      }

      @media (min-width: 768px) {
        .bento-grid {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      /* Bento Card Base */
      .bento-card {
        background: var(--bg-card);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-lg);
        padding: 2rem;
        position: relative;
        /* Subtle inner shadow for depth */
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.03),
          0 1px 3px rgba(0, 0, 0, 0.5);
        transition: border-color 0.2s ease;
      }

      .bento-card:hover {
        border-color: rgba(61, 213, 243, 0.3);
      }

      /* Span variations for Bento Grid */
      .bento-card.span-2 {
        grid-column: span 2;
      }

      .bento-card.span-3 {
        grid-column: span 3;
      }

      .bento-card.tall {
        grid-row: span 2;
      }

      /* Header card styling */
      .header-card {
        background: linear-gradient(
          135deg,
          var(--bg-card) 0%,
          rgba(61, 213, 243, 0.05) 100%
        );
        border-color: rgba(61, 213, 243, 0.2);
      }

      h1 {
        font-size: clamp(1.75rem, 4vw, 2.5rem);
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
        letter-spacing: -0.02em;
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      h1::before {
        content: "";
        width: 4px;
        height: 2rem;
        background: var(--accent-primary);
        border-radius: 2px;
      }

      .subtitle {
        color: var(--text-secondary);
        font-size: 1.1rem;
        margin-top: 0.5rem;
      }

      .diagram-title {
        color: var(--accent-primary);
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .diagram-title::before {
        content: "";
        width: 3px;
        height: 1.2rem;
        background: var(--accent-primary);
        border-radius: 2px;
      }

      .diagram-description {
        color: var(--text-secondary);
        margin-bottom: 1.5rem;
        line-height: 1.7;
      }

      /* Mermaid container styling */
      .mermaid {
        background: var(--bg-secondary);
        border-radius: var(--radius);
        padding: 1.5rem;
        overflow-x: auto;
        border: 1px solid var(--border-subtle);
      }

      /* Reference block */
      .reference {
        background: rgba(61, 213, 243, 0.05);
        border-left: 3px solid var(--accent-primary);
        padding: 1rem;
        margin-top: 1.5rem;
        border-radius: 0 var(--radius) var(--radius) 0;
        font-size: 0.9rem;
        color: var(--text-secondary);
      }

      .reference strong {
        color: var(--accent-primary);
      }

      /* Concept explanation cards */
      .concept-section {
        padding: 1.5rem;
      }

      .concept-title {
        color: var(--accent-primary);
        font-size: 1.25rem;
        font-weight: 600;
        margin-top: 1.5rem;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid var(--border-subtle);
      }

      .concept-content {
        background: var(--bg-secondary);
        padding: 1.25rem;
        border-radius: var(--radius);
        margin-bottom: 1.25rem;
        border: 1px solid var(--border-subtle);
      }

      .concept-content p {
        margin: 0 0 0.75rem 0;
        line-height: 1.7;
        color: var(--text-secondary);
      }

      .concept-content strong {
        color: var(--text-primary);
      }

      /* Code block styling */
      .code-block {
        background: var(--bg-primary);
        padding: 1rem;
        border-radius: var(--radius);
        font-family: "SF Mono", "Monaco", "Inconsolata", "Fira Code", monospace;
        font-size: 0.875rem;
        color: var(--text-secondary);
        overflow-x: auto;
        border: 1px solid var(--border-subtle);
      }

      /* Modern table design */
      table {
        width: 100%;
        border-collapse: collapse;
        background: var(--bg-secondary);
        border-radius: var(--radius);
        overflow: hidden;
        margin: 1rem 0;
      }

      thead {
        background: var(--bg-card);
      }

      th {
        color: var(--accent-primary);
        font-weight: 600;
        text-align: left;
        padding: 1rem;
        border-bottom: 1px solid var(--border-subtle);
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      td {
        padding: 1rem;
        border-bottom: 1px solid var(--border-subtle);
        color: var(--text-secondary);
      }

      tbody tr:hover {
        background: rgba(61, 213, 243, 0.03);
      }

      tbody tr:last-child td {
        border-bottom: none;
      }

      /* Status indicators in tables */
      .status-check {
        color: var(--accent-success);
        font-size: 1.25rem;
      }

      .status-cross {
        color: var(--accent-danger);
        font-size: 1.25rem;
      }

      /* Summary box styling */
      .summary-box {
        background: linear-gradient(
          135deg,
          rgba(61, 213, 243, 0.1) 0%,
          rgba(61, 213, 243, 0.05) 100%
        );
        border: 1px solid rgba(61, 213, 243, 0.2);
        padding: 1.25rem;
        border-radius: var(--radius);
        margin-top: 1.5rem;
      }

      .summary-box strong {
        color: var(--accent-primary);
      }

      /* Formula box */
      .formula-box {
        background: var(--bg-primary);
        color: var(--text-primary);
        padding: 1.5rem;
        border-radius: var(--radius);
        border: 1px solid rgba(61, 213, 243, 0.2);
        margin-top: 1rem;
        text-align: center;
      }

      .formula-box strong {
        color: var(--accent-primary);
        display: block;
        margin-bottom: 0.75rem;
      }

      .formula-content {
        font-size: 1.1rem;
        line-height: 2;
      }

      .formula-content span {
        display: block;
        margin: 0.25rem 0;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .bento-grid {
          grid-template-columns: 1fr;
        }

        .bento-card.span-2,
        .bento-card.span-3 {
          grid-column: span 1;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header Section -->
      <div class="bento-grid">
        <div class="bento-card header-card span-3">
          <h1>Safe Manager æ¨©é™ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h1>
          <p class="subtitle">UMLãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã¨ã‚³ã‚¢æ¦‚å¿µè§£æãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</p>
        </div>

        <!-- Main Diagram Card -->
        <div class="bento-card span-2">
          <h2 class="diagram-title">ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«å›³</h2>
          <p class="diagram-description">
            Departmentã€Userã€Teamã€Roleã€DeviceGroupã€Device 6ã¤ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–“ã®é–¢é€£æ§‹é€ ã‚’è¡¨ç¤º
          </p>
          <div class="mermaid">
            classDiagram
              direction TB

              class Department {
                +departmentId
                +name
                --æ¨©é™å¢ƒç•Œ--
                +getAllDevices()
              }

              class User {
                +userId
                +email
                +status
                +userType
                --ä½œæˆæ–¹æ³•--
                +createdViaForm()
                +createdViaCSV()
              }

              class Team {
                +teamId
                +name
                +parentTeamId
                +maxChildren=100
              }

              class Role {
                +roleId
                +name
                +isDefault
                +permissions[*]
              }

              class DeviceGroup {
                +groupId
                +name
                +parentGroupId
                +maxChildren=100
              }

              class Device {
                +deviceId
                +name
              }

              Department "1" -- "*" Team : å«ã‚€
              Department "1" -- "*" DeviceGroup : ç‰¹æ¨©ã‚¢ã‚¯ã‚»ã‚¹
              Department "0..1" -- "*" User : éƒ¨é–€ç®¡ç†è€…
              Team "1" -- "*" User : ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰€å±
              Role "1" -- "*" Team : é©ç”¨
              DeviceGroup "1" -- "*" Device : å«ã‚€
              Team "*" -- "*" DeviceGroup : ç´ã¥ã‘
          </div>
          <div class="reference">
            <strong>ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼š</strong>ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ -
            ãƒ­ãƒ¼ãƒ«ã®è¨­å®šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆã€ã‚°ãƒ«ãƒ¼ãƒ—/ãƒãƒ¼ãƒ ã®éšå±¤æ§‹é€ ã€éƒ¨é–€ç®¡ç†
          </div>
          <div class="concept-content" style="margin-top: 0.5rem; background: rgba(248, 113, 113, 0.1); border-left: 3px solid var(--accent-danger);">
            <p style="color: var(--text-primary); margin: 0;">
              <strong style="color: var(--accent-danger);">âš ï¸ ç‰¹æ¨©ã‚¢ã‚¯ã‚»ã‚¹ï¼š</strong>
              Department â†’ DeviceGroup ã®é–¢ä¿‚ã¯éƒ¨é–€ç®¡ç†è€…ã®ç‰¹æ¨©ãƒ‘ã‚¹ã§ã™ã€‚Team-DeviceGroupç´ã¥ã‘ã‚’ãƒã‚¤ãƒ‘ã‚¹ã—ã¾ã™ã€‚
            </p>
          </div>
        </div>

        <!-- Quick Info Card -->
        <div class="bento-card">
          <h2 class="diagram-title">ã‚­ãƒ¼ç‰¹æ€§</h2>
          <div class="concept-content">
            <p>
              <strong>éšå±¤åˆ¶é™ï¼š</strong>Teamã¨DeviceGroup
              ã¨ã‚‚ã«éšå±¤æ§‹ç¯‰å¯èƒ½ã€ç›´ä¸‹ãƒãƒ¼ãƒ‰ä¸Šé™100å€‹
            </p>
            <p><strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆï¼š</strong>ãƒ•ã‚©ãƒ¼ãƒ ä½œæˆã¨CSVãƒãƒƒãƒã‚¤ãƒ³ãƒãƒ¼ãƒˆã«å¯¾å¿œ</p>
            <p>
              <strong>æ¨©é™ãƒ¢ãƒ‡ãƒ«ï¼š</strong>ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹æ¨©é™åˆ¶å¾¡ã€Teamã‚’é€šã˜ã¦é–“æ¥çš„ã«ä»˜ä¸
            </p>
            <p>
              <strong>éƒ¨é–€éš”é›¢ï¼š</strong>Departmentã«ã‚ˆã‚‹æ¨©é™å¢ƒç•Œã€éƒ¨é–€ç®¡ç†è€…ã®ç‰¹æ¨©ã‚¢ã‚¯ã‚»ã‚¹
            </p>
          </div>
        </div>

        <!-- Department Architecture Diagram -->
        <div class="bento-card span-3">
          <h2 class="diagram-title">éƒ¨é–€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³</h2>
          <p class="diagram-description">
            éƒ¨é–€ã«ã‚ˆã‚‹æ¨©é™éš”é›¢ã¨ç®¡ç†è€…æ¨©é™ã®éšå±¤æ§‹é€ 
          </p>
          <div class="mermaid">
            graph TB
              subgraph çµ„ç¹”å…¨ä½“
                Admin[å…¨ä½“ç®¡ç†è€…]

                subgraph éƒ¨é–€A
                  DeptAdminA[éƒ¨é–€ç®¡ç†è€…A]
                  TeamA1[Team A1]
                  TeamA2[Team A2]
                  DGA1[DeviceGroup A1]
                  DGA2[DeviceGroup A2]

                  DeptAdminA -.ç®¡ç†.-> TeamA1
                  DeptAdminA -.ç®¡ç†.-> TeamA2
                  DeptAdminA ==ç‰¹æ¨©ã‚¢ã‚¯ã‚»ã‚¹==> DGA1
                  DeptAdminA ==ç‰¹æ¨©ã‚¢ã‚¯ã‚»ã‚¹==> DGA2
                end

                subgraph éƒ¨é–€B
                  DeptAdminB[éƒ¨é–€ç®¡ç†è€…B]
                  TeamB1[Team B1]
                  DGB1[DeviceGroup B1]

                  DeptAdminB -.ç®¡ç†.-> TeamB1
                  DeptAdminB ==ç‰¹æ¨©ã‚¢ã‚¯ã‚»ã‚¹==> DGB1
                end

                Admin ==> éƒ¨é–€A
                Admin ==> éƒ¨é–€B
              end

              TeamA1 -.ç´ã¥ã‘.-> DGA1
              TeamA2 -.ç´ã¥ã‘.-> DGA2
              TeamB1 -.ç´ã¥ã‘.-> DGB1
          </div>
          <div class="concept-content" style="margin-top: 1rem;">
            <p>
              <strong>éƒ¨é–€ã®å½¹å‰²ï¼š</strong>çµ„ç¹”ã‚’è«–ç†çš„ã«åˆ†å‰²ã—ã€å„éƒ¨é–€ã«ç®¡ç†è€…ã‚’é…ç½®ã™ã‚‹ã“ã¨ã§åˆ†æ•£ç®¡ç†ã‚’å®Ÿç¾
            </p>
            <p>
              <strong>æ¨©é™éš”é›¢ï¼š</strong>éƒ¨é–€ç®¡ç†è€…ã¯è‡ªéƒ¨é–€ã®ãƒªã‚½ãƒ¼ã‚¹ã®ã¿ç·¨é›†å¯èƒ½ã€ä»–éƒ¨é–€ã¯ä¸å¯è¦–
            </p>
            <p style="color: var(--accent-danger);">
              <strong>å¤ªã„äºŒé‡ç·šï¼ˆ==ï¼‰ï¼š</strong>éƒ¨é–€ç®¡ç†è€…ã®ç‰¹æ¨©ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¹ã€‚Team-DeviceGroupç´ã¥ã‘ã‚’ãƒã‚¤ãƒ‘ã‚¹ã—ã¦ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
            </p>
          </div>
        </div>

        <!-- Core Concepts Section -->
        <div class="bento-card span-3">
          <h2 class="diagram-title">ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆè§£æ</h2>

          <div class="concept-section">
            <h3 class="concept-title">ğŸ­ Roleï¼ˆãƒ­ãƒ¼ãƒ«ï¼‰ã¨ã¯ï¼Ÿ</h3>
            <div class="concept-content">
              <p>
                <strong>ã‚­ãƒ¼ç‰¹æ€§ï¼š</strong>Roleã¯å†åˆ©ç”¨å¯èƒ½ãªæ¨©é™ã‚»ãƒƒãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã€
                Teamã‚’é€šã˜ã¦é–“æ¥çš„ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä»˜ä¸ã•ã‚Œã€å€‹åˆ¥ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç›´æ¥ãƒã‚¤ãƒ³ãƒ‰ã•ã‚Œã¾ã›ã‚“ã€‚
              </p>
            </div>

            <h3 class="concept-title">ğŸ”‘ UserTypeï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—ï¼‰éšå±¤</h3>
            <div class="concept-content">
              <p>
                <strong>4ã¤ã®æ¨©é™ãƒ¬ãƒ™ãƒ«ï¼š</strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯userTypeå±æ€§ã«ã‚ˆã‚Š4ã¤ã®æ¨©é™ãƒ¬ãƒ™ãƒ«ã«åˆ†é¡ã•ã‚Œã¾ã™ã€‚
              </p>

              <table style="margin-top: 1rem;">
                <thead>
                  <tr>
                    <th>UserType</th>
                    <th>Safie Manager</th>
                    <th>Safie Viewer</th>
                    <th>ç·¨é›†æ¨©é™</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>å…¨ä½“ç®¡ç†è€…</strong></td>
                    <td>å…¨ã¦æ“ä½œå¯èƒ½</td>
                    <td>å…¨ãƒ‡ãƒã‚¤ã‚¹è¦–è´å¯èƒ½</td>
                    <td style="text-align: center">âœ…</td>
                  </tr>
                  <tr>
                    <td><strong>ç®¡ç†è€…</strong></td>
                    <td>å…¨ã¦é–²è¦§ã®ã¿</td>
                    <td>æ¨©é™ã®ã‚ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã®ã¿</td>
                    <td style="text-align: center">âŒ</td>
                  </tr>
                  <tr>
                    <td><strong>éƒ¨é–€ç®¡ç†è€…</strong></td>
                    <td>éƒ¨é–€å†…ã®ã¿ç·¨é›†å¯èƒ½</td>
                    <td>éƒ¨é–€å†…å…¨ãƒ‡ãƒã‚¤ã‚¹ + æ¨©é™ã®ã‚ã‚‹ãƒ‡ãƒã‚¤ã‚¹</td>
                    <td style="text-align: center">âœ…ï¼ˆéƒ¨é–€å†…ï¼‰</td>
                  </tr>
                  <tr>
                    <td><strong>åˆ©ç”¨è€…</strong></td>
                    <td>ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯</td>
                    <td>æ¨©é™ã®ã‚ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã®ã¿</td>
                    <td style="text-align: center">âŒ</td>
                  </tr>
                </tbody>
              </table>

              <div class="summary-box" style="margin-top: 1rem;">
                <strong>é‡è¦ï¼š</strong>éƒ¨é–€ç®¡ç†è€…ã¯éƒ¨é–€ã«ç›´æ¥å«ã¾ã‚Œã‚‹ã™ã¹ã¦ã®Deviceã‚’è¦–è´å¯èƒ½ã€‚
                Team-DeviceGroupç´ã¥ã‘ãƒ«ãƒ¼ãƒ«ã‚’ãƒã‚¤ãƒ‘ã‚¹ã™ã‚‹ç‰¹æ¨©ã‚’æŒã¤ã€‚
              </div>

              <div class="concept-content" style="margin-top: 1rem; background: rgba(61, 213, 243, 0.05); border-left: 3px solid var(--accent-primary);">
                <p style="font-size: 1.1rem; font-weight: 600; color: var(--accent-primary); margin-bottom: 0.5rem;">
                  æ¨©é™è¨­è¨ˆã®ç†å¿µï¼šå½¹å‰²åˆ†æ‹…
                </p>
                <pre style="background: transparent; color: var(--text-secondary); font-family: inherit; margin: 0.5rem 0;">
        å…¨ä½“ç®¡ç†è€…ï¼ˆæœ€é«˜æ¨©é™ï¼‰
            ï¼    ï¼¼
      ç®¡ç†è€…  â†â†’  éƒ¨é–€ç®¡ç†è€…
      (ç›£ç£)      (å®Ÿè¡Œ)
            ï¼¼    ï¼
          åˆ©ç”¨è€…ï¼ˆä¸€èˆ¬ï¼‰
                </pre>
                <p style="margin: 0; line-height: 1.8;">
                  <strong>ç®¡ç†è€…ã¨éƒ¨é–€ç®¡ç†è€…ã¯å¹³è¡Œé–¢ä¿‚ï¼š</strong><br/>
                  â€¢ <strong>ç®¡ç†è€…</strong>ï¼šå…¨ä½“ç›£ç£å½¹ï¼ˆå…¨ã¦é–²è¦§å¯èƒ½ã€ç·¨é›†ä¸å¯ï¼‰<br/>
                  â€¢ <strong>éƒ¨é–€ç®¡ç†è€…</strong>ï¼šéƒ¨é–€å®Ÿè¡Œå½¹ï¼ˆéƒ¨é–€å†…ã®ã¿ç·¨é›†å¯èƒ½ï¼‰<br/>
                  <span style="opacity: 0.8; font-size: 0.95em;">
                  ã“ã‚Œã¯éšå±¤é–¢ä¿‚ã§ã¯ãªãã€ç•°ãªã‚‹è·è²¬ã«åŸºã¥ãå½¹å‰²åˆ†æ‹…ã§ã™ã€‚
                  </span>
                </p>
              </div>
            </div>

            <h3 class="concept-title">ğŸ‘¥ Teamã¨Departmentã«ã‚ˆã‚‹Userç®¡ç†</h3>
            <div class="concept-content">
              <p>
                <strong>é‡è¦ç‰¹æ€§ï¼š</strong>åŒä¸€Teamã«å±ã™ã‚‹ã™ã¹ã¦ã®Userã¯
                åŒã˜RoleãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚
              </p>
              <p>
                <strong>ãã®ãŸã‚æ¨©é™åŒºåˆ†ã¯è¤‡æ•°ã®ç•°ãªã‚‹Teamã®ä½œæˆã«ã‚ˆã‚Šå®Ÿç¾ã•ã‚Œã¾ã™ï¼š</strong>
              </p>
              <div class="code-block">
                ç®¡ç†è€…Team (ã€Œç®¡ç†è€…Roleã€é©ç”¨)<br />
                &nbsp;&nbsp;â”œâ”€ User A<br />
                &nbsp;&nbsp;â””â”€ User B<br />
                <br />
                ä¸€èˆ¬ç¤¾å“¡Team (ã€Œä¸€èˆ¬ç¤¾å“¡Roleã€é©ç”¨)<br />
                &nbsp;&nbsp;â”œâ”€ User C<br />
                &nbsp;&nbsp;â”œâ”€ User D<br />
                &nbsp;&nbsp;â””â”€ User E
              </div>
              <p>
                <strong>æŸ”è»Ÿãªå¯¾å¿œï¼š</strong>Userã¯è¤‡æ•°ã®Teamã«åŒæ™‚ã«æ‰€å±ã§ãã€
                è¤‡æ•°ã®Roleã®æ¨©é™ã‚’çµ±åˆã—ã¦å–å¾—ã§ãã¾ã™ã€‚
              </p>
            </div>

            <h3 class="concept-title">ğŸ”— Teamã¨DeviceGroupã®ç´ã¥ã‘é–¢ä¿‚</h3>
            <div class="concept-content">
              <p>
                <strong>Team-DeviceGroupé–¢ä¿‚</strong>ã¯
                <strong>æ¨©é™åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ </strong>ã«ãŠã‘ã‚‹<strong>æ¨©é™ç¯„å›²ãƒãƒƒãƒ”ãƒ³ã‚°</strong>ã§ã™ã€‚
              </p>
              <p>
                <strong>ã‚­ãƒ¼å·®ç•°ï¼š</strong>
                ã“ã‚Œã¯å¤šå¯¾å¤šã®ç¯„å›²ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆç´ã¥ã‘ï¼‰ã§ã€ã€Œèª°ãŒã©ã®ãƒ‡ãƒã‚¤ã‚¹ã‚’è¦‹ã‚‰ã‚Œã‚‹ã‹ã€ã‚’æ±ºå®šã—ã€ã€Œèª°ãŒãƒªã‚½ãƒ¼ã‚¹ã«å¯¾ã—ã¦ä½•ãŒã§ãã‚‹ã‹ã€ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
              </p>

              <div class="summary-box">
                <strong>å®Œå…¨ãªæ¨©é™ãƒ‘ã‚¹ï¼š</strong>
                <div class="code-block" style="margin-top: 1rem">
                  User â†’ (æ‰€å±) Team â†’ (é©ç”¨) Role + (ç´ã¥ã‘) DeviceGroup â†’
                  (å«ã‚€) Device<br />
                  <span style="opacity: 0.6">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â†“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â†“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â†“<br />
                    &nbsp;&nbsp;&nbsp;èº«åˆ†å¸°å±&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½•ãŒã§ãã‚‹ã‹&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ã©ã®ãƒ‡ãƒã‚¤ã‚¹ãŒè¦‹ãˆã‚‹ã‹
                  </span>
                </div>
              </div>

              <p>
                <strong>è¤‡æ•°Teamä¾‹ï¼š</strong>User Aã¯
                ã€Œå–¶æ¥­éƒ¨Teamã€ã¨ã€ŒManagerTeamã€ã«åŒæ™‚ã«æ‰€å±ã§ãã€ä¸¡TeamãŒ
                ãã‚Œãã‚Œç´ã¥ã‘ã•ã‚ŒãŸã™ã¹ã¦ã®DeviceGroupã«æ¥ç¶šã§ãã¾ã™ã€‚
              </p>
            </div>

            <h3 class="concept-title">âš™ï¸ Roleã¯ä½•ã«å½±éŸ¿ã™ã‚‹ï¼Ÿ</h3>
            <div class="concept-content">
              <p><strong>RoleãŒæ±ºå®šã™ã‚‹ã‚‚ã®ï¼š</strong>ã€Œãƒ‡ãƒã‚¤ã‚¹ã«å¯¾ã—ã¦ä½•ãŒã§ãã‚‹ã‹ã€</p>

              <table>
                <thead>
                  <tr>
                    <th>æ“ä½œæ¨©é™</th>
                    <th style="text-align: center">ä¸€èˆ¬ç¤¾å“¡Role</th>
                    <th style="text-align: center">ç®¡ç†è€…Role</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¦–è´</td>
                    <td style="text-align: center">
                      <span class="status-check">âœ“</span>
                    </td>
                    <td style="text-align: center">
                      <span class="status-check">âœ“</span>
                    </td>
                  </tr>
                  <tr>
                    <td>éŒ²ç”»å±¥æ­´ã®å†ç”Ÿ</td>
                    <td style="text-align: center">
                      <span class="status-cross">âœ—</span>
                    </td>
                    <td style="text-align: center">
                      <span class="status-check">âœ“</span>
                    </td>
                  </tr>
                  <tr>
                    <td>å‹•ç”»ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</td>
                    <td style="text-align: center">
                      <span class="status-cross">âœ—</span>
                    </td>
                    <td style="text-align: center">
                      <span class="status-check">âœ“</span>
                    </td>
                  </tr>
                  <tr>
                    <td>ã‚«ãƒ¡ãƒ©è¨­å®šã®èª¿æ•´</td>
                    <td style="text-align: center">
                      <span class="status-cross">âœ—</span>
                    </td>
                    <td style="text-align: center">
                      <span class="status-check">âœ“</span>
                    </td>
                  </tr>
                  <tr>
                    <td>ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ã®ç®¡ç†</td>
                    <td style="text-align: center">
                      <span class="status-cross">âœ—</span>
                    </td>
                    <td style="text-align: center">
                      <span class="status-check">âœ“</span>
                    </td>
                  </tr>
                </tbody>
              </table>

              <div class="formula-box">
                <strong>å®Œå…¨ãªæ¨©é™åˆ¶å¾¡ã®å…¬å¼ï¼š</strong>
                <div class="formula-content">
                  <strong style="color: var(--accent-primary)">ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼š</strong><br />
                  å®Ÿéš›ã®æ¨©é™ = Team-DeviceGroup ç´ã¥ã‘ Ã— Role permissions<br />
                  <br />
                  <strong style="color: var(--accent-warning)">éƒ¨é–€ç®¡ç†è€…ï¼š</strong><br />
                  å®Ÿéš›ã®æ¨©é™ = Departmentå†…å…¨Deviceï¼ˆç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ï¼‰ + Teamç´ã¥ã‘Device<br />
                  <span style="font-size: 0.9em; opacity: 0.8">â€» ç´ã¥ã‘ãƒ«ãƒ¼ãƒ«ã‚’ãƒã‚¤ãƒ‘ã‚¹ã™ã‚‹ç‰¹æ¨©</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Summary Card -->
        <div class="bento-card span-3">
          <h2 class="diagram-title">ğŸ“Œ ã¾ã¨ã‚ï¼šåˆ¶å¾¡ã®æ¬¡å…ƒ</h2>
          <table>
            <thead>
              <tr>
                <th>åˆ¶å¾¡ã®æ¬¡å…ƒ</th>
                <th>ä½•ã«ã‚ˆã£ã¦æ±ºå®šã•ã‚Œã‚‹ã‹</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>æ¨©é™éš”é›¢ï¼ˆãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆï¼‰</td>
                <td><strong>Departmentï¼ˆéƒ¨é–€ï¼‰</strong></td>
              </tr>
              <tr>
                <td>ã©ã®ãƒ‡ãƒã‚¤ã‚¹ãŒè¦‹ãˆã‚‹ã‹ï¼ˆç¯„å›²ï¼‰</td>
                <td><strong>Team-DeviceGroup ç´ã¥ã‘ ã¾ãŸã¯ Departmentæ‰€å±</strong></td>
              </tr>
              <tr>
                <td>ãƒ‡ãƒã‚¤ã‚¹ã«å¯¾ã—ã¦ä½•ãŒã§ãã‚‹ã‹ï¼ˆæ“ä½œï¼‰</td>
                <td><strong>Roleã®Permissions[*]</strong></td>
              </tr>
              <tr>
                <td>ç®¡ç†æ¨©é™ã®æœ‰ç„¡</td>
                <td><strong>UserTypeï¼ˆå…¨ä½“ç®¡ç†è€…/éƒ¨é–€ç®¡ç†è€…/ä¸€èˆ¬ï¼‰</strong></td>
              </tr>
            </tbody>
          </table>
          <p style="margin-top: 1rem; color: var(--text-secondary)">
            Departmentã«ã‚ˆã‚‹æ¨©é™éš”é›¢ã€UserTypeã«ã‚ˆã‚‹ç®¡ç†éšå±¤ã€Team-Role-DeviceGroupã«ã‚ˆã‚‹ç´°ã‹ã„æ¨©é™åˆ¶å¾¡ãŒçµ„ã¿åˆã‚ã•ã£ã¦ã€æŸ”è»Ÿã‹ã¤å®‰å…¨ãªæ¨©é™ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹æˆã—ã¾ã™ã€‚
          </p>
        </div>
      </div>
    </div>

    <script>
      // Mermaid configuration for dark mode
      mermaid.initialize({
        startOnLoad: true,
        theme: "dark",
        themeVariables: {
          primaryColor: "#262b34",
          primaryTextColor: "#e4e6eb",
          primaryBorderColor: "#3dd5f3",
          lineColor: "#3dd5f3",
          secondaryColor: "#1d2129",
          tertiaryColor: "#111418",
          background: "#262b34",
          mainBkg: "#262b34",
          secondBkg: "#1d2129",
          tertiaryBkg: "#111418",
          classText: "#e4e6eb",
          labelColor: "#e4e6eb",
          fillType0: "#262b34",
          fillType1: "#1d2129",
          fillType2: "#111418",
          fillType3: "#262b34",
          fillType4: "#1d2129",
          fillType5: "#111418",
          fillType6: "#262b34",
          fillType7: "#1d2129",
        },
      });
    </script>
  </body>
</html>
